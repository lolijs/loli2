<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <!-- Google 爬虫规则 -->
        <meta name="fragment" content="!" />
        <title>测试首页</title>
        <script src="/external/require/require.setting.js" type="text/javascript"></script>
        <script src="/external/require/require.js" type="text/javascript"></script>


        <script src="/external/jquery/jquery.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="/external/semantic/dist/semantic.css">

    </head>
    <!-- 全局控制器 -->
    <body ms-controller="main">
        <h1>{{view.title}}</h1>

        <a href="#!/userlist">home</a>
        <a href="#!/menu">menu</a>
        <a href="#!/about">about</a>

        <!-- 模块容器 -->
        <div ms-view></div>

        <div ms-include-src="view.footer"></div>

        <!-- 尾部公用js -->
        <script type="text/javascript">

            ;require(["rConfig"],function(routerConfig){
                "use strict";

                // 数组头部添加 av 依赖
                var reArr = ["av"];

                console.log("routerConfig",routerConfig);

                ;require(reArr.concat(routerConfig),function(av){
                    var unit = loli.unit;
                    var vm = av.define({
                        $id : "main",
                        // 布局对象
                        view : {
                            footer : av.html("layout/common/footer")
                        }
                    });

                    // 启动路由
                    av.history.start();

                    vm.scan();
                });

            });
            
        </script>


    </body>
</html>